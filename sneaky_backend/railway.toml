[build]
builder = "nixpacks"
buildCommand = "npm install"

[deploy]
startCommand = "npm start"
healthcheckPath = "/health"
healthcheckTimeout = 5
healthcheckInterval = 15
restartPolicy = "on-failure"
numReplicas = 1
healthcheckProtocol = "http"

[variables]
NODE_ENV = "production"

# Add these as environment variables in Railway dashboard:
# DATABASE_URL (will be automatically added when you attach MySQL)
# FRONTEND_URL
# PAYSTACK_SECRET_KEY
# CLOUDINARY_CLOUD_NAME
# CLOUDINARY_API_KEY
# CLOUDINARY_API_SECRET
# JWT_SECRET
# EMAIL_USER
# EMAIL_APP_PASSWORD 